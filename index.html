<!DOCTYPE html>
<html lang="en">
<head>
  <title>Choose</title>
  <meta name="viewport" content="width=device-width, user-scalable=no" />
  <link rel="stylesheet" type="text/css" href="styles.css" media="screen" />
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#000" id="theme" />
  <script src="https://cdn.rawgit.com/GoogleChrome/pwacompat/v1.0.3/pwacompat.min.js"></script>

  <meta id="theme" name="theme-color" content="#084066" />
</head>
<body>

<header>
  <button id="toggle"></button>
</header>
<choose-board id="choose"></choose-board>

<script src="elements.js"></script>
<script>
'use strict';
(function() {
  const chooseEl = document.getElementById('choose');
  const themeEl = document.head.querySelector('#theme');
  const toggleEl = document.getElementById('toggle');

  chooseEl.addEventListener('winner', ev => {
    themeEl.setAttribute('content', ev.detail);
  });

  Element.prototype.requestFullscreen =
      Element.prototype.requestFullscreen || Element.prototype.webkitRequestFullscreen;
  document.exitFullscreen = document.exitFullscreen || document.webkitExitFullscreen;
  const fullscreenEnabled = document.fullscreenEnabled || document.webkitFullscreenEnabled;

  if (!Element.prototype.requestFullscreen || !fullscreenEnabled) {
    toggleEl.hidden = true;
  } else {
    toggleEl.addEventListener('click', ev => {
      const request = !toggleEl.classList.contains('fullscreen');
      if (document.fullscreenElement || document.webkitFullscreenElement) {
        document.exitFullscreen();
      } else {
        document.documentElement.requestFullscreen();
      }
    });
  }

}());
</script>

</body>
</html>
